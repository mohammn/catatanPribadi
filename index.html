<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>mn-belajarweb.blogspot.com</title>
    <!-- Favicon-->
    <link rel="icon" type="image/x-icon" href="foto/favicon.ico" />
    <!-- Font Awesome icons (free version)-->
    <script src="js/all.js"></script>
    <!-- Google fonts-->
    <link href=" css/montserrat.css" rel="stylesheet" type="text/css" />
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="css/styles.css" rel="stylesheet" />
    <style>
        /* Important part */
        .modal-dialog {
            overflow-y: initial !important
        }

        .modal-body {
            height: 80vh;
            overflow-y: auto;
        }
    </style>
</head>

<body id="page-top">
    <!-- Navigation-->
    <nav class="navbar navbar-expand-lg bg-secondary text-uppercase fixed-top" id="mainNav">
        <div class="container">
            <a class="navbar-brand js-scroll-trigger" href="#page-top" id="namaPemilikCatatan">mn-belajarweb</a>
        </div>
    </nav>
    <!-- Portfolio Section-->
    <section class="page-section portfolio" id="portfolio">
        <div class="container pt-5">
            <!-- Portfolio Section Heading-->
            <h2 class="page-section-heading text-center text-secondary mb-0">Catatan Harianku :</h2>
            <!-- Icon Divider-->
            <div class="divider-custom">
                <div class="divider-custom-line"></div>
                <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                <div class="divider-custom-line"></div>
            </div>
            <!-- Portfolio Grid Items-->
            <div class="row justify-content-center" id="tempatCatatan">

            </div>
        </div>
    </section>
    <!-- Copyright Section-->
    <div class="copyright py-4 text-center text-white">
        <div class="container"><small>Copyright Â© <b id="copyright"></b></small></div>
    </div>
    <!-- Scroll to Top Button (Only visible on small and extra-small screen sizes)-->
    <div class="scroll-to-top d-lg-none position-fixed">
        <a class="js-scroll-trigger d-block text-center text-white rounded" href="#page-top"><i
                class="fa fa-chevron-up"></i></a>
    </div>
    <!-- Portfolio Modals-->
    <!-- Portfolio Modal 1-->
    <div class="portfolio-modal modal fade" id="pengaturanModal" tabindex="-1" role="dialog"
        aria-labelledby="portfolioModal1Label" aria-hidden="true">
        <div class="modal-dialog modal-xl" role="document">
            <div class="modal-content">
                <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true"><i class="fas fa-times"></i></span>
                </button>
                <div class="modal-body text-center">
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-lg-2">
                                Nama Saya :
                            </div>
                            <div class="col-lg-2">
                                <input type="text" class="form-control" id="isianNama" />
                            </div>
                            <div class="col-lg-2">
                                Pass Baru :
                            </div>
                            <div class="col-lg-2">
                                <input type="password" class="form-control" id="ubahPass" />
                            </div>
                            <div class="col-lg-2">
                                konfir Pass :
                            </div>
                            <div class="col-lg-2">
                                <input type="password" class="form-control" id="confirUbahPass" />
                            </div>
                            <div class="col-lg-2">
                                <div id="pesanErrUbahPengaturan" class="badge badge-danger"></div>
                                <button class="btn btn-info mt-2" onclick="ubahPengaturan()">Ubah</button>
                            </div>
                        </div>
                        <hr />
                        <div class="row justify-content-center mt-3">
                            <h5 class="col-lg-12 justify-content-center mt-4">Data Catatan :</h5>
                        </div>
                        <div class="row justify-content-center" id="listCatatan">

                        </div>
                        <hr />
                        <div class="row justify-content-center mt-4">
                            <div class="col-lg-2">
                            </div>
                            <div class="col-lg-2">
                                <input type="text" class="form-control" placeholder="Judul Catatan"
                                    id="isianJudulCatatan" />
                            </div>
                            <div class="col-lg-1">
                                Foto :
                            </div>
                            <div class="col-lg-3">
                                <input type="file" class="form-control" id="foto" />
                            </div>
                            <div class="col-lg-2">
                                <button class="btn btn-info mt-2" onclick="tambahCatatan()">Tambah</button>
                            </div>
                            <div class="col-lg-2">
                            </div>
                            <div class="row justify-content-center mt-4">
                                <div class="col-lg-12">
                                    <textarea class="form-control" id="catatan" cols="100" rows="10"></textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="portfolio-modal modal fade" id="daftarModal" tabindex="-1" role="dialog"
        aria-labelledby="portfolioModal1Label" aria-hidden="true">
        <div class="modal-dialog modal-xl" role="document">
            <div class="modal-content">
                <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true"><i class="fas fa-times"></i></span>
                </button>
                <div class="modal-body text-center">
                    <div class="container">
                        <h5 class="col-lg-12 justify-content-center mb-4">Daftar Password :</h5>
                        <div class="row justify-content-center">
                            <div class="col-lg-2">
                            </div>
                            <div class="col-lg-2">
                                Password :
                            </div>
                            <div class="col-lg-2">
                                <input type="password" class="form-control" id="pass" />
                            </div>
                            <div class="col-lg-2">
                                konfirmasi Password :
                            </div>
                            <div class="col-lg-2">
                                <input type="password" class="form-control" id="confirPass" />
                            </div>
                            <div class="col-lg-2">
                            </div>
                            <div class="col-lg-12">
                                <div id="pesanErrDaftarAdmin" class="badge badge-danger"></div>
                            </div>
                        </div>
                        <div class="row justify-content-center mt-4">
                            <div class="col-lg-2">
                                <button class="btn btn-info" id="tombolTambahPass"
                                    onclick="daftarAdmin()">Tambah</button>
                            </div>
                        </div>
                        <hr />
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="portfolio-modal modal fade" id="loginModal" tabindex="-1" role="dialog"
        aria-labelledby="portfolioModal1Label" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true"><i class="fas fa-times"></i></span>
                </button>
                <div class="modal-body text-center">
                    <div class="container">
                        <h5 class="col-lg-12 justify-content-center mb-4">Masukan Password :</h5>
                        <div class="row justify-content-center">
                            <div class="col-lg-6">
                                Password :
                            </div>
                            <div class="col-lg-6">
                                <input type="password" class="form-control" id="loginPass" />
                                <div id="pesanErrLogin" class="badge badge-danger"></div>
                            </div>
                        </div>
                        <div class="row justify-content-center mt-4">
                            <div class="col-lg-2">
                                <button class="btn btn-info" id="tombolLogin" onclick="login()">Masuk</button>
                            </div>
                        </div>
                        <hr />
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="portfolio-modal modal fade" id="detailModal" tabindex="-1" role="dialog"
        aria-labelledby="portfolioModal1Label" aria-hidden="true">
        <div class="modal-dialog modal-xl" role="document">
            <div class="modal-content">
                <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true"><i class="fas fa-times"></i></span>
                </button>
                <div class="modal-body text-center">
                    <div class="container">
                        <h5 class="col-lg-12 justify-content-center mb-4" id="tempatJudul"></h5>
                        <div class="row justify-content-center">
                            <img class="img-fluid" style="width: 10%;" src="" id="fotoCatatan" alt="" />
                        </div>
                        <hr />
                        <div class="row justify-content-center" id="isiCatatan">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Bootstrap core JS-->
    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.bundle.min.js"></script>
    <!-- Third party plugin JS-->
    <script src="js/jquery.easing.min.js"></script>
    <!-- Core theme JS-->
    <script src="js/scripts.js"></script>

    <script>
        if (localStorage.getItem("namaPemilik")) {
            var date = new Date();

            $("#namaPemilikCatatan").html(localStorage.getItem("namaPemilik"));
            $("#copyright").html(localStorage.getItem("namaPemilik") + " " + date.getFullYear())
        }

        //localStorage.setItem("dataCatatan", "Bawang+cabin.png=Cabe+cake.png=Tomat+safe.png");
        if (localStorage.getItem("passCatatan")) {
            $("#loginModal").modal("show")
        } else {
            $("#daftarModal").modal("show")
        }

        function tampilkanDataAwal() {
            var hasil = "";

            if (localStorage.getItem("dataCatatan")) {
                var data = localStorage.getItem("dataCatatan");
                data = data.split("=+=");
                var pemisah = '';
                for (let i = 0; i < data.length; i++) {
                    pemisah = data[i].split('+-+');
                    hasil += '<div class="col-md-6 col-lg-4 mb-5" onClick="detailCatatan(' + i + ')"><div div class="portfolio-item mx-auto"><h4 class="text-center text-secondary text-uppercase font-weight-bold">' + pemisah[0] + '</h4><div class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100"> <div class="portfolio-item-caption-content text-center text-white">' + pemisah[0] + '</div></div><img class="img-fluid" src="foto/' + pemisah[1] + '" alt="" /></div></div>';
                }
            }
            document.getElementById("tempatCatatan").innerHTML = hasil;
        }

        function detailCatatan(id) {
            $("#detailModal").modal("show")
            var data = localStorage.getItem("dataCatatan");
            data = data.split("=+=");
            for (let i = 0; i < data.length; i++) {
                if (i == id) {
                    hasil = data[i].split("+-+");
                    $("#tempatJudul").html(hasil[0])
                    $("#fotoCatatan").attr('src', 'foto/' + hasil[1])
                    $("#isiCatatan").html(hasil[2])
                }
            }
        }

        function tampilModal() {
            $("#pengaturanModal").modal("show")
        }

        function daftarAdmin() {
            if ($("#pass").val() == $("#confirPass").val()) {
                $("#pesanErrDaftarAdmin").html("")
                localStorage.setItem("passCatatan", $("#pass").val())

                $("#daftarModal").modal("hide")
                $("#namaPemilikCatatan").attr("onclick", "tampilModal()")
            } else {
                $("#pesanErrDaftarAdmin").html("Konfirmasi Password tidak cocok")
            }
        }
        function login() {
            if ($("#loginPass").val() == localStorage.getItem("passCatatan")) {
                $("#loginPass").val("")
                $("#loginModal").modal("hide")
                tampilkanDataAwal()
                if (localStorage.getItem("namaPemilik")) {
                    $("#isianNama").val(localStorage.getItem("namaPemilik"))
                }
                tampilkanData()
                $("#namaPemilikCatatan").attr("onclick", "tampilModal()")
                $("#ubahPass").val(localStorage.getItem("passCatatan"))
                $("#pesanErrLogin").html("")
            } else {
                $("#pesanErrLogin").html("Password tidak cocok")
            }
        }

        function ubahPengaturan() {
            if ($("#ubahPass").val() == $("#confirUbahPass").val()) {
                localStorage.setItem("passCatatan", $("#ubahPass").val())
                localStorage.setItem("namaPemilik", $("#isianNama").val())
                $("#namaPemilikCatatan").html(localStorage.getItem("namaPemilik"))
                $("#pesanErrUbahPengaturan").html("")
                $("#pengaturanModal").modal("hide")
            } else {
                $("#pesanErrUbahPengaturan").html("Konfirmasi Password tidak cocok")
            }
        }

        function tampilkanData() {
            var hasil = "";
            if (localStorage.getItem("dataCatatan")) {
                var data = localStorage.getItem("dataCatatan");
                data = data.split("=+=");
                var pemisah = '';
                for (let i = 0; i < data.length; i++) {
                    pemisah = data[i].split('+');
                    hasil += '<div class="col-lg-2 font-weight-bold">' + pemisah[0] + ' <button class="badge badge-danger" onClick="hapusData(' + i + ')"> <i class="fas fa-times"></i></button></div>'
                }
            }
            console.log(localStorage.getItem("dataCatatan"))
            document.getElementById("listCatatan").innerHTML = hasil;
        }

        function hapusData(id) {
            var data = localStorage.getItem("dataCatatan");
            data = data.split("=+=");
            var hasil = "";
            for (let i = 0; i < data.length; i++) {
                if (i != id) {
                    hasil += data[i] + "=+=";
                }
            }
            var hasilAkhir = "";
            hasil = hasil.split("=+=");
            for (let j = 0; j < hasil.length; j++) {
                hasilAkhir += hasil[j];
                if (j < (hasil.length - 2)) { hasilAkhir += "=+=" }
            }
            localStorage.setItem("dataCatatan", hasilAkhir)
            //console.log(hasil)
            tampilkanData();
            tampilkanDataAwal()
        }

        function tambahCatatan() {
            var nama = $("#isianJudulCatatan").val();
            var foto = $("#foto").val()
            var catatan = $("#catatan").val()
            if (foto) {
                foto = foto.split("\\");
                foto = foto[foto.length - 1];
            } else {
                foto = "default.jpg"
            }

            var dataLama = localStorage.getItem("dataCatatan");
            var dataBaru = nama + "+-+" + foto + "+-+" + catatan;
            if (dataLama) {
                dataBaru = "=+=" + dataBaru;
            }
            localStorage.setItem("dataCatatan", dataLama + dataBaru);
            var nama = $("#isianJudulCatatan").val("");
            var foto = $("#foto").val("");
            var foto = $("#catatan").val("");
            tampilkanData();
            tampilkanDataAwal()
        }

    </script>
</body>

</html>